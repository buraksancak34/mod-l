<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒ∞lker & Derya - Bizim D√ºnyamƒ±z</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { rose: { 600: '#e11d48' }, pink: { 500: '#ec4899' }, slate: { 50: '#f8fafc' } },
                    fontFamily: { sans: ['"Plus Jakarta Sans"', 'sans-serif'], romantic: ['"Dancing Script"', 'cursive'] },
                    animation: { 'spin-slow': 'spin 8s linear infinite' }
                }
            }
        }
    </script>

    <style>
        body { background: linear-gradient(135deg, #f8fafc 0%, #fff1f2 100%); min-height: 100vh; overflow-x: hidden; }
        .glass-card { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.8); box-shadow: 0 8px 32px rgba(225, 29, 72, 0.05); border-radius: 1.5rem; }
        .blur-lock { filter: blur(10px); pointer-events: none; user-select: none; }
        .unlocked { filter: blur(0); pointer-events: auto; transition: filter 0.8s ease; }
        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #fda4af; border-radius: 4px; }
        
        /* Zarf Animasyonu */
        .envelope-card { transition: all 0.3s ease; }
        .envelope-card:hover { transform: translateX(5px); background-color: #fff1f2; }
    </style>
</head>
<body class="text-slate-800 pb-24">

    <div id="toast" class="fixed bottom-24 left-1/2 -translate-x-1/2 bg-rose-900 text-white px-6 py-3 rounded-full shadow-2xl opacity-0 transition-opacity duration-300 z-[99999] text-sm font-bold pointer-events-none"></div>

    <div class="bg-white/80 border-b border-rose-100 py-3 text-center sticky top-0 z-40 backdrop-blur">
        <p id="top-motto" class="text-xs md:text-sm font-bold text-rose-500 tracking-widest uppercase animate-pulse">Y√ºkleniyor...</p>
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <header class="flex flex-col md:flex-row justify-between items-center mb-12 gap-8">
            <div class="text-center md:text-left">
                <h1 class="font-romantic text-6xl md:text-7xl text-rose-600">ƒ∞lker <span class="text-4xl text-pink-400">&</span> Derya</h1>
                <p class="text-slate-400 font-medium mt-2 tracking-wide">Bizim D√ºnyamƒ±z</p>
            </div>
            
            <div class="flex gap-4">
                <div class="glass-card p-4 text-center min-w-[140px]">
                    <div class="text-[10px] text-rose-400 font-black uppercase">Evlilik</div>
                    <div id="counter-marriage" class="text-2xl font-black text-slate-700">...</div>
                </div>
                <div class="glass-card p-4 text-center min-w-[140px]">
                    <div class="text-[10px] text-rose-400 font-black uppercase">Tanƒ±≈üma</div>
                    <div id="counter-meeting" class="text-2xl font-black text-slate-700">...</div>
                </div>
            </div>
        </header>

        <section class="mb-16">
            <div class="glass-card max-w-3xl mx-auto p-10 text-center relative overflow-hidden">
                <h2 class="text-xs font-black text-rose-400 uppercase tracking-[0.3em] mb-6">G√ºn√ºn Mesajƒ±</h2>
                <p id="daily-message-display" class="font-romantic text-3xl md:text-4xl text-slate-700 leading-normal">
                    "Giri≈ü yapƒ±ldƒ±ƒüƒ±nda kalbimiz konu≈üacak..."
                </p>
                <div class="mt-8">
                    <button onclick="openLoginModal()" id="login-trigger-btn" class="bg-rose-500 text-white px-8 py-3 rounded-full text-xs font-bold uppercase shadow-lg hover:bg-rose-600 transition-all">Giri≈ü Yap</button>
                    <div id="user-info-panel" class="hidden flex flex-col items-center gap-2">
                        <div class="flex items-center gap-2">
                            <span id="welcome-text" class="text-sm font-bold text-rose-600"></span>
                            <button onclick="toggleAdmin()" id="admin-btn" class="hidden bg-slate-200 text-slate-600 w-6 h-6 rounded-full flex items-center justify-center text-xs">‚öôÔ∏è</button>
                        </div>
                        <button onclick="logout()" class="text-[10px] text-slate-400 underline">√áƒ±kƒ±≈ü</button>
                    </div>
                </div>
            </div>
        </section>

        <div id="secure-layer" class="relative transition-all duration-1000 blur-lock">
            
            <div id="lock-overlay" class="absolute inset-0 z-30 flex flex-col items-center justify-center pt-20">
                <div class="text-6xl mb-4 opacity-50">üîí</div>
            </div>

            <div class="mb-12">
                <div class="bg-white rounded-3xl p-1 shadow-sm border border-rose-100">
                    <div class="bg-rose-50/50 rounded-[1.3rem] p-6 text-center h-40 flex flex-col justify-center relative overflow-hidden">
                        <div class="absolute top-0 left-1/2 -translate-x-1/2 bg-rose-200 text-rose-700 px-3 py-1 text-[9px] font-bold uppercase rounded-b-lg">‚ù§Ô∏è ƒ∞li≈üki Notlarƒ±</div>
                        <div class="swiper expertSwiper w-full h-full">
                            <div class="swiper-wrapper" id="expert-slides-wrapper"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16">
                <div class="glass-card p-6 h-[500px] flex flex-col">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">üíå Bizim Sohbetimiz</h3>
                    <div id="chat-container" class="flex-1 overflow-y-auto pr-2 space-y-3 mb-4 custom-scroll bg-white/40 rounded-xl p-4"></div>
                    <div class="flex gap-2">
                        <input type="text" id="chat-input" class="flex-1 bg-white border border-rose-100 rounded-xl px-4 text-sm outline-none focus:border-rose-400" placeholder="Bir not bƒ±rak (Enter ile g√∂nder)...">
                        <button onclick="sendChat()" class="bg-rose-500 text-white w-10 h-10 rounded-xl flex items-center justify-center shadow-lg hover:bg-rose-600">‚û§</button>
                    </div>
                </div>

                <div class="glass-card p-6 h-[500px] flex flex-col">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">üí´ Kalpten ƒ∞stekler</h3>
                    
                    <div class="flex-1 overflow-y-auto mb-4 custom-scroll pr-2">
                        <div class="mb-6">
                            <h4 class="text-[10px] font-black text-rose-400 uppercase mb-2">Sana Gelen Zarflar</h4>
                            <div id="incoming-requests" class="space-y-2"></div>
                        </div>
                        <div>
                            <h4 class="text-[10px] font-black text-slate-400 uppercase mb-2">Senin G√∂nderdiklerin</h4>
                            <div id="outgoing-requests" class="space-y-1"></div>
                        </div>
                    </div>

                    <div class="bg-pink-50 p-2 rounded-xl border border-pink-100 flex gap-2">
                        <input type="text" id="request-input" class="flex-1 bg-transparent text-sm outline-none px-2 placeholder-pink-300 text-pink-900" placeholder="Dilek tut (Enter ile g√∂nder)...">
                        <button onclick="sendRequest()" class="bg-pink-500 text-white px-4 rounded-lg text-sm font-bold">+</button>
                    </div>
                </div>
            </div>

            <section class="mb-24">
                <div class="flex justify-between items-end mb-6 px-2">
                    <h2 class="text-2xl font-romantic text-slate-800">Anƒ±larƒ±mƒ±z</h2>
                    <button onclick="toggleMemoryForm()" class="text-xs bg-white border border-rose-200 text-rose-500 px-4 py-2 rounded-full font-bold shadow-sm hover:bg-rose-50">+ ANI EKLE</button>
                </div>

                <div id="memory-form" class="hidden mb-6 bg-white p-6 rounded-3xl shadow-xl border border-rose-100">
                    <div class="grid grid-cols-1 gap-4">
                        <input type="date" id="mem-date" class="w-full text-sm p-3 bg-slate-50 rounded-xl outline-none border border-slate-100">
                        <textarea id="mem-desc" placeholder="Bu anƒ±n hikayesi..." class="w-full text-sm p-3 bg-slate-50 rounded-xl outline-none h-20 resize-none border border-slate-100"></textarea>
                        <input type="file" id="mem-file" accept="image/*" class="text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-rose-50 file:text-rose-700">
                        <button onclick="saveMemory()" class="w-full bg-rose-600 text-white py-3 rounded-xl font-bold uppercase tracking-wider shadow-lg">KAYDET</button>
                    </div>
                </div>

                <div class="swiper memorySwiper pb-12 px-4">
                    <div class="swiper-wrapper" id="memory-wrapper">
                         <div class="swiper-slide flex items-center justify-center bg-white h-60 rounded-2xl border border-rose-100">
                             <p class="text-slate-400 text-sm">Y√ºkleniyor...</p>
                         </div>
                    </div>
                    <div class="swiper-pagination"></div>
                </div>
            </section>
        </div>
    </div>

    <div id="admin-sidebar" class="fixed top-0 right-0 h-full w-80 bg-white shadow-[0_0_40px_rgba(0,0,0,0.1)] transform translate-x-full transition-transform duration-300 z-[10000] p-6 overflow-y-auto">
        <div class="flex justify-between items-center mb-8">
            <h2 class="font-bold text-slate-800 text-lg">Y√∂netim Paneli</h2>
            <button onclick="toggleAdmin()" class="text-2xl text-slate-300 hover:text-rose-500">&times;</button>
        </div>
        
        <div class="space-y-8">
            <div class="bg-rose-50 p-4 rounded-2xl">
                <label class="text-[10px] font-black text-rose-400 block mb-2 uppercase">G√ºne √ñzel Mesaj</label>
                <input type="date" id="admin-quote-date" class="w-full bg-white p-2 rounded-lg mb-2 text-xs border border-rose-100">
                <textarea id="admin-quote-text" class="w-full bg-white p-2 rounded-lg mb-2 text-xs h-16 border border-rose-100" placeholder="Mesaj..."></textarea>
                <button onclick="saveAdminQuote()" class="w-full bg-rose-500 text-white py-2 rounded-lg text-xs font-bold shadow-md">KAYDET</button>
                <div class="mt-4 pt-4 border-t border-rose-200">
                    <h4 class="text-[9px] font-bold text-rose-400 uppercase mb-2">Kayƒ±tlƒ± G√ºnler</h4>
                    <div id="admin-quote-list" class="max-h-32 overflow-y-auto space-y-1"></div>
                </div>
            </div>

            <div class="bg-slate-50 p-4 rounded-2xl">
                <label class="text-[10px] font-black text-slate-400 block mb-2 uppercase">Yeni Motto</label>
                <input type="text" id="admin-motto-text" class="w-full bg-white p-2 rounded-lg mb-2 text-xs border border-slate-200" placeholder="Motto...">
                <button onclick="saveAdminMotto()" class="w-full bg-slate-700 text-white py-2 rounded-lg text-xs font-bold shadow-md">EKLE</button>
                <div class="mt-4 pt-4 border-t border-slate-200">
                    <h4 class="text-[9px] font-bold text-slate-400 uppercase mb-2">Mottolar</h4>
                    <div id="admin-motto-list" class="max-h-32 overflow-y-auto space-y-1"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="login-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] hidden flex items-center justify-center">
        <div class="bg-white p-8 rounded-[2rem] shadow-2xl w-80 text-center relative">
            <button onclick="document.getElementById('login-modal').classList.add('hidden')" class="absolute top-4 right-4 text-slate-300 text-xl">&times;</button>
            <h3 class="text-xl font-romantic text-rose-600 mb-6">Ho≈ü Geldiniz</h3>
            <input type="password" id="password-input" class="w-full text-center text-lg tracking-[5px] p-3 border-b-2 border-rose-100 outline-none focus:border-rose-500 mb-6 font-bold text-rose-900" placeholder="****">
            <button onclick="attemptLogin()" class="w-full bg-gradient-to-r from-rose-500 to-pink-500 text-white py-3 rounded-xl font-bold shadow-lg">Gƒ∞Rƒ∞≈û</button>
        </div>
    </div>

    <div id="music-player-container"></div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    
    <script>
        // --- 1. FIREBASE BA≈ûLATMA ---
        const firebaseConfig = {
            apiKey: "AIzaSyCbIuOJeKNpJToMg2-PsblLtue-mzElUQY", 
            authDomain: "tezz-95f0d.firebaseapp.com",
            projectId: "tezz-95f0d",
            storageBucket: "tezz-95f0d.appspot.com",
            messagingSenderId: "87135277271",
            appId: "1:87135277271:web:49cc5d5ee7b473bfa7a092"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // **√ñNEMLƒ∞:** Veriler tam olarak senin kurallarda izin verdiƒüin yere yazƒ±lacak
        const DB_ROOT = db.collection('artifacts').doc('derya-ilker-love-v3');

        // --- 2. DEƒûƒ∞≈ûKENLER ---
        let currentUser = localStorage.getItem('bizim_user');
        const defaultMottos = ["Aile, sevginin ba≈üladƒ±ƒüƒ± yerdir.", "Birlikte her ≈üey g√ºzel.", "Sonsuzluƒüa kadar..."];
        let mottos = [...defaultMottos];
        let quotes = {};

        // --- 3. FONKSƒ∞YONLAR ---

        function openLoginModal() { document.getElementById('login-modal').classList.remove('hidden'); }
        
        function attemptLogin() {
            const pass = document.getElementById('password-input').value;
            let user = null;
            if (pass === '1881') user = 'Derya';
            else if (pass === '1992') user = 'ƒ∞lker';

            if (user) {
                currentUser = user;
                localStorage.setItem('bizim_user', user);
                document.getElementById('login-modal').classList.add('hidden');
                document.getElementById('password-input').value = '';
                showToast(`Ho≈ü geldin ${user} ‚ù§Ô∏è`);
                updateUI();
                setTimeout(() => window.location.reload(), 1000); 
            } else {
                showToast('≈ûifre hatalƒ±!');
            }
        }

        function logout() { localStorage.removeItem('bizim_user'); currentUser = null; window.location.reload(); }
        function toggleAdmin() { document.getElementById('admin-sidebar').classList.toggle('translate-x-full'); }
        function toggleMemoryForm() { document.getElementById('memory-form').classList.toggle('hidden'); }

        function showToast(msg) {
            const t = document.getElementById('toast');
            t.innerText = msg;
            t.classList.remove('opacity-0');
            setTimeout(() => t.classList.add('opacity-0'), 3000);
        }

        // --- CHAT ---
        function sendChat() {
            const inp = document.getElementById('chat-input');
            const text = inp.value.trim();
            if(!text || !currentUser) return;
            
            DB_ROOT.collection('chat').add({
                text: text, sender: currentUser, createdAt: Date.now()
            }).then(() => { inp.value = ''; })
              .catch(err => showToast("Hata: " + err.message));
        }

        // --- TALEPLER ---
        function sendRequest() {
            const inp = document.getElementById('request-input');
            const text = inp.value.trim();
            if(!text || !currentUser) return;
            
            const target = currentUser === 'ƒ∞lker' ? 'Derya' : 'ƒ∞lker';
            DB_ROOT.collection('requests').add({
                text: text, from: currentUser, to: target, createdAt: Date.now()
            }).then(() => { inp.value = ''; showToast('Zarf g√∂nderildi üíå'); })
              .catch(err => showToast("Hata!"));
        }

        // --- ANI EKLEME ---
        function saveMemory() {
            const date = document.getElementById('mem-date').value;
            const desc = document.getElementById('mem-desc').value;
            const file = document.getElementById('mem-file').files[0];

            if(!date || !desc || !file) return showToast('L√ºtfen her ≈üeyi doldur!');

            const reader = new FileReader();
            reader.onload = function(e) {
                DB_ROOT.collection('memories').add({
                    date: date, desc: desc, image: e.target.result, addedBy: currentUser, createdAt: Date.now()
                }).then(() => {
                    document.getElementById('memory-form').classList.add('hidden');
                    document.getElementById('mem-desc').value = '';
                    showToast('Anƒ± eklendi ‚ú®');
                }).catch(err => showToast("Hata: " + err.message));
            };
            reader.readAsDataURL(file);
        }

        // --- ADMIN: G√úNL√úK MESAJ ---
        function saveAdminQuote() {
            const d = document.getElementById('admin-quote-date').value;
            const t = document.getElementById('admin-quote-text').value;
            if(!d || !t) return showToast("Tarih ve mesaj girin!");
            
            const key = d.split('-').reverse().slice(0,2).join('-');
            DB_ROOT.collection('quotes').doc(key).set({ text: t })
              .then(() => { showToast('Kaydedildi'); document.getElementById('admin-quote-text').value = ''; })
              .catch(err => showToast("Hata!"));
        }
        
        function deleteQuote(id) {
            DB_ROOT.collection('quotes').doc(id).delete();
        }

        // --- ADMIN: MOTTO ---
        function saveAdminMotto() {
            const t = document.getElementById('admin-motto-text').value;
            if(!t) return;
            const newList = [...mottos, t];
            DB_ROOT.set({ mottos: newList }, { merge: true })
              .then(() => { showToast('Motto eklendi'); document.getElementById('admin-motto-text').value = ''; });
        }

        function deleteMotto(idx) {
            const newList = mottos.filter((_, i) => i !== idx);
            DB_ROOT.set({ mottos: newList }, { merge: true });
        }

        // --- 4. VERƒ∞ Dƒ∞NLEYƒ∞Cƒ∞LERƒ∞ ---
        function startListeners() {
            // MOTTOLAR
            DB_ROOT.onSnapshot(doc => {
                if(doc.exists && doc.data().mottos) mottos = doc.data().mottos;
                else mottos = defaultMottos;
                
                document.getElementById('top-motto').innerText = `"${mottos[Math.floor(Math.random() * mottos.length)]}"`;
                
                if(currentUser === 'ƒ∞lker') {
                    document.getElementById('admin-motto-list').innerHTML = mottos.map((m,i) => 
                        `<div class="flex justify-between p-1 border-b text-xs"><span>${m}</span><button onclick="deleteMotto(${i})" class="text-rose-500 font-bold">x</button></div>`
                    ).join('');
                }
            });

            // G√úNL√úK S√ñZLER
            DB_ROOT.collection('quotes').onSnapshot(snap => {
                quotes = {};
                snap.forEach(doc => quotes[doc.id] = doc.data().text);
                
                const now = new Date();
                const key = `${String(now.getDate()).padStart(2,'0')}-${String(now.getMonth()+1).padStart(2,'0')}`;
                const el = document.getElementById('daily-message-display');
                
                if(quotes[key]) el.innerText = `"${quotes[key]}"`;
                else {
                    const fallback = ["Seni √ßok seviyorum.", "ƒ∞yi ki varsƒ±n.", "Her anƒ±mda sen varsƒ±n."];
                    el.innerText = `"${fallback[now.getDate() % fallback.length]}"`;
                }

                if(currentUser === 'ƒ∞lker') {
                    document.getElementById('admin-quote-list').innerHTML = Object.keys(quotes).map(k => 
                        `<div class="flex justify-between p-1 border-b text-xs"><span><b>${k}:</b> ${quotes[k].substring(0,10)}...</span><button onclick="deleteQuote('${k}')" class="text-rose-500 font-bold">x</button></div>`
                    ).join('');
                }
            });

            // CHAT
            DB_ROOT.collection('chat').orderBy('createdAt', 'asc').onSnapshot(snap => {
                const div = document.getElementById('chat-container');
                div.innerHTML = snap.docs.map(doc => {
                    const m = doc.data();
                    const isMe = m.sender === currentUser;
                    return `<div class="flex ${isMe?'justify-end':'justify-start'}"><div class="${isMe?'bg-rose-500 text-white':'bg-white border text-slate-600'} rounded-xl px-3 py-2 text-sm shadow-sm max-w-[80%] mb-2">${m.text}<div class="text-[9px] opacity-70 text-right">${new Date(m.createdAt).toLocaleTimeString('tr-TR',{hour:'2-digit',minute:'2-digit'})}</div></div></div>`;
                }).join('');
                div.scrollTop = div.scrollHeight;
            });

            // TALEPLER
            DB_ROOT.collection('requests').orderBy('createdAt', 'desc').onSnapshot(snap => {
                if(!currentUser) return;
                const incoming = [], outgoing = [];
                snap.forEach(doc => {
                    const d = doc.data();
                    if(d.to === currentUser) incoming.push(d);
                    if(d.from === currentUser) outgoing.push(d);
                });
                
                const inDiv = document.getElementById('incoming-requests');
                inDiv.innerHTML = incoming.length ? incoming.map(r => `<div class="bg-white p-2 rounded border border-rose-100 mb-2 cursor-pointer shadow-sm hover:bg-rose-50 envelope-card" onclick="alert('${r.text}')"><b class="text-rose-500 text-xs">üì© ${r.from}</b><div class="text-[10px] text-gray-400">Oku</div></div>`).join('') : '<div class="text-xs text-gray-300">Bo≈ü</div>';
                
                document.getElementById('outgoing-requests').innerHTML = outgoing.map(r => `<div class="flex justify-between text-[10px] text-gray-500 border-b p-1"><span>${r.text}</span><span>‚úì</span></div>`).join('');
            });

            // ANILAR
            DB_ROOT.collection('memories').onSnapshot(snap => {
                if(snap.empty) {
                     document.getElementById('memory-wrapper').innerHTML = '<div class="swiper-slide flex items-center justify-center bg-white h-60 rounded-2xl"><p class="text-slate-400 text-sm">Hen√ºz anƒ± eklenmedi...</p></div>';
                     return;
                }
                const mems = snap.docs.map(d => d.data());
                const today = new Date();
                mems.sort((a,b) => {
                    const dA = new Date(a.date); const dB = new Date(b.date);
                    dA.setFullYear(today.getFullYear()); dB.setFullYear(today.getFullYear());
                    if(dA<today) dA.setFullYear(today.getFullYear()+1);
                    if(dB<today) dB.setFullYear(today.getFullYear()+1);
                    return (dA-today) - (dB-today);
                });

                document.getElementById('memory-wrapper').innerHTML = mems.map(m => `
                    <div class="swiper-slide">
                        <div class="bg-white rounded-3xl overflow-hidden shadow h-72 w-full relative group">
                            <img src="${m.image}" class="w-full h-full object-cover">
                            <div class="absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent p-4 text-white pt-10">
                                <div class="font-bold font-romantic text-lg">${new Date(m.date).toLocaleDateString('tr-TR')}</div>
                                <p class="text-xs opacity-90 truncate">${m.desc}</p>
                            </div>
                        </div>
                    </div>
                `).join('');
                
                if(window.memSwiper) window.memSwiper.destroy();
                window.memSwiper = new Swiper(".memorySwiper", { effect: "cards", grabCursor: true, centeredSlides: true, slidesPerView: "auto" });
            });
            
            // EXPERTS
            const experts = ["Birbirinize sarƒ±lƒ±n.", "Sorunlarƒ± ertelemeyin.", "Te≈üekk√ºr edin.", "Ortak hayaller kurun.", "Birbirinizi dinleyin."];
            document.getElementById('expert-slides-wrapper').innerHTML = experts.map(e => `<div class="swiper-slide flex items-center justify-center px-4"><p class="text-rose-800 italic font-medium text-center">"${e}"</p></div>`).join('');
            new Swiper(".expertSwiper", { direction: "vertical", autoplay: {delay:3000}, loop: true });
        }

        // --- 5. UI UPDATE ---
        function updateUI() {
            const secure = document.getElementById('secure-layer');
            const lock = document.getElementById('lock-overlay');
            const loginBtn = document.getElementById('login-trigger-btn');
            const userInfo = document.getElementById('user-info-panel');

            if(currentUser) {
                secure.classList.remove('blur-lock'); secure.classList.add('unlocked');
                lock.classList.add('hidden'); loginBtn.classList.add('hidden'); userInfo.classList.remove('hidden');
                document.getElementById('welcome-text').innerText = currentUser;
                if(currentUser === 'ƒ∞lker') document.getElementById('admin-btn').classList.remove('hidden');
                startListeners();
            } else {
                secure.classList.add('blur-lock'); secure.classList.remove('unlocked');
                lock.classList.remove('hidden'); loginBtn.classList.remove('hidden'); userInfo.classList.add('hidden');
            }
        }

        // ENTER TU≈ûU DESTEƒûƒ∞
        document.getElementById('chat-input').addEventListener('keydown', (e) => { if(e.key === 'Enter') sendChat(); });
        document.getElementById('request-input').addEventListener('keydown', (e) => { if(e.key === 'Enter') sendRequest(); });

        // SAYA√áLAR
        const mDate = new Date('2019-10-27');
        const tDate = new Date('2011-12-10');
        setInterval(() => {
            const now = new Date();
            document.getElementById('counter-marriage').innerText = Math.floor((now - mDate) / 86400000);
            document.getElementById('counter-meeting').innerText = Math.floor((now - tDate) / 86400000);
        }, 1000);

        updateUI();

    </script>
</body>
</html>
